{"version":3,"sources":["543fc9bac1bd4e19/files/023f2e516d30f7483d2feb8ec2216b9af7fb5a2d3ff0ff615cfbfab3331a610a36ea2eb5a096ab59013e080c0e8db70c055f18b8c2a898e0ebe67742aaae6bfb","543fc9bac1bd4e19/files/d5d3b7f8adfa5caeedd4f4c3fcef02ed8273523866e0db1ea69bb00824205fad60ada99acae0c4a3515bb95ef788f5993cd20c2e944b4475057ba81006d20401","543fc9bac1bd4e19/c2dae147641e012a@46.js","543fc9bac1bd4e19/a33468b95d0b15b0@703.js","543fc9bac1bd4e19/543fc9bac1bd4e19@1001.js","map.js","App.js","reportWebVitals.js","index.js"],"names":["define","runtime","observer","main","module","variable","md","MemoryStorage","storage","window","localStorage","key","setItem","removeItem","error","Object","defineProperties","this","_","value","Map","size","index","Array","from","keys","has","get","set","delete","clear","legend","d3","color","scaleSequential","interpolateViridis","title","scaleSequentialSqrt","interpolateTurbo","scaleDiverging","interpolatePiYG","tickFormat","scaleDivergingSqrt","interpolateRdBu","scaleSequentialLog","interpolateBlues","ticks","scaleSequentialQuantile","length","Math","random","scaleSqrt","scaleQuantize","schemePurples","scaleQuantile","range","map","randomNormal","schemeSpectral","scaleThreshold","schemeRdBu","tickSize","scaleOrdinal","swatches","schemeCategory10","schemeTableau10","columns","ramp","x","width","height","marginTop","marginRight","marginBottom","marginLeft","tickValues","svg","create","attr","style","tickAdjust","g","selectAll","interpolate","n","min","domain","copy","rangeRound","quantize","append","toDataURL","interpolator","assign","interpolateRound","undefined","round","i","quantile","format","invertExtent","thresholds","quantiles","thresholdFormat","d","scaleLinear","data","join","scaleBand","max","bandwidth","call","axisBottom","select","remove","text","node","DOM","html","entity","swatchSize","swatchWidth","swatchHeight","id","uid","label","replace","document","createTextNode","character","charCodeAt","toString","canvas","context","getContext","fillStyle","fillRect","require","fileAttachments","default","builtin","name","Inputs","slice","G","input","radio","china","population","year","metrics","$0","year_list","y","xAxis","yAxis","margin","deputy","x2","gender_list","y2","xAxis2","yAxis2","callout","format2","projection","geoMercator","center","translate","scale","path","geoPath","features","enter","properties","transition","duration","ease","easeLinear","left","top","tooltip","on","event","current_population","mouse","pointer","last_project","JSON","parse","getItem","lower","concat","stringify","raise","right","padding","nice","bottom","tickSizeOuter","y_format","axisLeft","reverse","Delegation","Men","Women","FileAttachment","a","autoType","csvParse","split","getBBox","w","h","schemeBlues","json","M","generator","child1","define1","import","child2","define2","Chinamap","viewofYearRef","useRef","viewofMetricsRef","chartRef","useState","setModule","useEffect","Runtime","notebook","Inspector","current","dispose","redefine","className","ref","App","componentRef","myRef","getDimensions","offsetWidth","offsetHeight","dimensions","setDimensions","handleResize","addEventListener","removeEventListener","useContainerDimensions","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6a810521.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/023f2e516d30f7483d2feb8ec2216b9af7fb5a2d3ff0ff615cfbfab3331a610a36ea2eb5a096ab59013e080c0e8db70c055f18b8c2a898e0ebe67742aaae6bfb.9ac3d3fa.bin\";","export default __webpack_public_path__ + \"static/media/d5d3b7f8adfa5caeedd4f4c3fcef02ed8273523866e0db1ea69bb00824205fad60ada99acae0c4a3515bb95ef788f5993cd20c2e944b4475057ba81006d20401.5c21df74.bin\";","// https://observablehq.com/@mbostock/safe-local-storage@46\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`# Safe Local Storage\n\nIf a reader has localStorage disabled, simply referencing it will throw an error and prevent any downstream cells from running. This can break your notebook!\n\nIf you import from this notebook instead, you’ll be able to use localStorage safely: if the reader has disabled local storage, you’ll get an in-memory storage instance that evaporates when the page is unloaded.\n\n\\`\\`\\`js\nimport {localStorage} from \"@mbostock/safe-local-storage\"\n\\`\\`\\`\n\nPlease note that this implementation does not support direct-setting of properties on localStorage; use the [Storage interface methods](https://html.spec.whatwg.org/multipage/webstorage.html#webstorage) instead.\n`\n)});\n  main.variable(observer(\"localStorage\")).define(\"localStorage\", [\"MemoryStorage\"], function(MemoryStorage)\n{\n  try {\n    const storage = window.localStorage;\n    const key = \"__storage_test__\";\n    storage.setItem(key, key);\n    storage.removeItem(key);\n    return storage;\n  } catch (error) {\n    return new MemoryStorage;\n  }\n}\n);\n  main.variable(observer(\"MemoryStorage\")).define(\"MemoryStorage\", function(){return(\nclass MemoryStorage {\n  constructor() {\n    Object.defineProperties(this, {_: {value: new Map}});\n  }\n  get length() {\n    return this._.size;\n  }\n  key(index) {\n    return Array.from(this._.keys())[index | 0];\n  }\n  getItem(key) {\n    return this._.has(key += \"\") ? this._.get(key) : null;\n  }\n  setItem(key, value) {\n    this._.set(key + \"\", value + \"\");\n  }\n  removeItem(key) {\n    this._.delete(key + \"\");\n  }\n  clear() {\n    this._.clear();\n  }\n}\n)});\n  return main;\n}\n","// https://observablehq.com/@d3/color-legend@703\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`# Color Legend\n\nA simple legend for a [color scale](/@d3/color-schemes). Supports [continuous](/@d3/continuous-scales), [sequential](/@d3/sequential-scales), [diverging](/@d3/diverging-scales), [quantize, quantile, threshold](/@d3/quantile-quantize-and-threshold-scales) and [ordinal](/@d3/d3-scaleordinal) scales. To use:\n\n~~~js\nimport {legend, swatches} from \"@d3/color-legend\"\n~~~\n\nThen call the legend function as shown below. (For ordinal scales, also consider the swatches function.)`\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleSequential([0, 100], d3.interpolateViridis),\n  title: \"Temperature (°F)\"\n})\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleSequentialSqrt([0, 1], d3.interpolateTurbo),\n  title: \"Speed (kts)\"\n})\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleDiverging([-0.1, 0, 0.1], d3.interpolatePiYG),\n  title: \"Daily change\",\n  tickFormat: \"+%\"\n})\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleDivergingSqrt([-0.1, 0, 0.1], d3.interpolateRdBu),\n  title: \"Daily change\",\n  tickFormat: \"+%\"\n})\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleSequentialLog([1, 100], d3.interpolateBlues),\n  title: \"Energy (joules)\",\n  ticks: 10,\n  tickFormat: \".0s\"\n})\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleSequentialQuantile(Array.from({length: 100}, () => Math.random() ** 2), d3.interpolateBlues),\n  title: \"Quantile\",\n  tickFormat: \".2f\"\n})\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleSqrt([-100, 0, 100], [\"blue\", \"white\", \"red\"]),\n  title: \"Temperature (°C)\"\n})\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleQuantize([1, 10], d3.schemePurples[9]),\n  title: \"Unemployment rate (%)\"\n})\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleQuantile(d3.range(1000).map(d3.randomNormal(100, 20)), d3.schemeSpectral[9]),\n  title: \"Height (cm)\",\n  tickFormat: \".0f\"\n})\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleThreshold([2.5, 3.1, 3.5, 3.9, 6, 7, 8, 9.5], d3.schemeRdBu[9]),\n  title: \"Unemployment rate (%)\",\n  tickSize: 0\n})\n)});\n  main.variable(observer()).define([\"legend\",\"d3\"], function(legend,d3){return(\nlegend({\n  color: d3.scaleOrdinal([\"<10\", \"10-19\", \"20-29\", \"30-39\", \"40-49\", \"50-59\", \"60-69\", \"70-79\", \"≥80\"], d3.schemeSpectral[10]),\n  title: \"Age (years)\",\n  tickSize: 0\n})\n)});\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`But wait, there’s more!\n\nHow about swatches for ordinal color scales? Both variable-width swatches and [column layout](https://developer.mozilla.org/en-US/docs/Web/CSS/columns) are supported.`\n)});\n  main.variable(observer()).define([\"swatches\",\"d3\"], function(swatches,d3){return(\nswatches({\n  color: d3.scaleOrdinal([\"blueberries\", \"oranges\", \"apples\"], d3.schemeCategory10)\n})\n)});\n  main.variable(observer()).define([\"swatches\",\"d3\"], function(swatches,d3){return(\nswatches({\n  color: d3.scaleOrdinal([\"Wholesale and Retail Trade\", \"Manufacturing\", \"Leisure and hospitality\", \"Business services\", \"Construction\", \"Education and Health\", \"Government\", \"Finance\", \"Self-employed\", \"Other\"], d3.schemeTableau10),\n  columns: \"180px\"\n})\n)});\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`---\n\n## Implementation`\n)});\n  main.variable(observer(\"legend\")).define(\"legend\", [\"d3\",\"ramp\"], function(d3,ramp){return(\nfunction legend({\n  color,\n  title,\n  tickSize = 6,\n  width = 320, \n  height = 44 + tickSize,\n  marginTop = 18,\n  marginRight = 0,\n  marginBottom = 16 + tickSize,\n  marginLeft = 0,\n  ticks = width / 64,\n  tickFormat,\n  tickValues\n} = {}) {\n\n  const svg = d3.create(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .attr(\"viewBox\", [0, 0, width, height])\n      .style(\"overflow\", \"visible\")\n      .style(\"display\", \"block\");\n\n  let tickAdjust = g => g.selectAll(\".tick line\").attr(\"y1\", marginTop + marginBottom - height);\n  let x;\n\n  // Continuous\n  if (color.interpolate) {\n    const n = Math.min(color.domain().length, color.range().length);\n\n    x = color.copy().rangeRound(d3.quantize(d3.interpolate(marginLeft, width - marginRight), n));\n\n    svg.append(\"image\")\n        .attr(\"x\", marginLeft)\n        .attr(\"y\", marginTop)\n        .attr(\"width\", width - marginLeft - marginRight)\n        .attr(\"height\", height - marginTop - marginBottom)\n        .attr(\"preserveAspectRatio\", \"none\")\n        .attr(\"xlink:href\", ramp(color.copy().domain(d3.quantize(d3.interpolate(0, 1), n))).toDataURL());\n  }\n\n  // Sequential\n  else if (color.interpolator) {\n    x = Object.assign(color.copy()\n        .interpolator(d3.interpolateRound(marginLeft, width - marginRight)),\n        {range() { return [marginLeft, width - marginRight]; }});\n\n    svg.append(\"image\")\n        .attr(\"x\", marginLeft)\n        .attr(\"y\", marginTop)\n        .attr(\"width\", width - marginLeft - marginRight)\n        .attr(\"height\", height - marginTop - marginBottom)\n        .attr(\"preserveAspectRatio\", \"none\")\n        .attr(\"xlink:href\", ramp(color.interpolator()).toDataURL());\n\n    // scaleSequentialQuantile doesn’t implement ticks or tickFormat.\n    if (!x.ticks) {\n      if (tickValues === undefined) {\n        const n = Math.round(ticks + 1);\n        tickValues = d3.range(n).map(i => d3.quantile(color.domain(), i / (n - 1)));\n      }\n      if (typeof tickFormat !== \"function\") {\n        tickFormat = d3.format(tickFormat === undefined ? \",f\" : tickFormat);\n      }\n    }\n  }\n\n  // Threshold\n  else if (color.invertExtent) {\n    const thresholds\n        = color.thresholds ? color.thresholds() // scaleQuantize\n        : color.quantiles ? color.quantiles() // scaleQuantile\n        : color.domain(); // scaleThreshold\n\n    const thresholdFormat\n        = tickFormat === undefined ? d => d\n        : typeof tickFormat === \"string\" ? d3.format(tickFormat)\n        : tickFormat;\n\n    x = d3.scaleLinear()\n        .domain([-1, color.range().length - 1])\n        .rangeRound([marginLeft, width - marginRight]);\n\n    svg.append(\"g\")\n      .selectAll(\"rect\")\n      .data(color.range())\n      .join(\"rect\")\n        .attr(\"x\", (d, i) => x(i - 1))\n        .attr(\"y\", marginTop)\n        .attr(\"width\", (d, i) => x(i) - x(i - 1))\n        .attr(\"height\", height - marginTop - marginBottom)\n        .attr(\"fill\", d => d);\n\n    tickValues = d3.range(thresholds.length);\n    tickFormat = i => thresholdFormat(thresholds[i], i);\n  }\n\n  // Ordinal\n  else {\n    x = d3.scaleBand()\n        .domain(color.domain())\n        .rangeRound([marginLeft, width - marginRight]);\n\n    svg.append(\"g\")\n      .selectAll(\"rect\")\n      .data(color.domain())\n      .join(\"rect\")\n        .attr(\"x\", x)\n        .attr(\"y\", marginTop)\n        .attr(\"width\", Math.max(0, x.bandwidth() - 1))\n        .attr(\"height\", height - marginTop - marginBottom)\n        .attr(\"fill\", color);\n\n    tickAdjust = () => {};\n  }\n\n  svg.append(\"g\")\n      .attr(\"transform\", `translate(0,${height - marginBottom})`)\n      .call(d3.axisBottom(x)\n        .ticks(ticks, typeof tickFormat === \"string\" ? tickFormat : undefined)\n        .tickFormat(typeof tickFormat === \"function\" ? tickFormat : undefined)\n        .tickSize(tickSize)\n        .tickValues(tickValues))\n      .call(tickAdjust)\n      .call(g => g.select(\".domain\").remove())\n      .call(g => g.append(\"text\")\n        .attr(\"x\", marginLeft)\n        .attr(\"y\", marginTop + marginBottom - height - 6)\n        .attr(\"fill\", \"currentColor\")\n        .attr(\"text-anchor\", \"start\")\n        .attr(\"font-weight\", \"bold\")\n        .attr(\"class\", \"title\")\n        .text(title));\n\n  return svg.node();\n}\n)});\n  main.variable(observer(\"swatches\")).define(\"swatches\", [\"DOM\",\"html\",\"entity\"], function(DOM,html,entity){return(\nfunction swatches({\n  color,\n  columns = null,\n  format = x => x,\n  swatchSize = 15,\n  swatchWidth = swatchSize,\n  swatchHeight = swatchSize,\n  marginLeft = 0\n}) {\n  const id = DOM.uid().id;\n\n  if (columns !== null) return html`<div style=\"display: flex; align-items: center; margin-left: ${+marginLeft}px; min-height: 33px; font: 10px sans-serif;\">\n  <style>\n\n.${id}-item {\n  break-inside: avoid;\n  display: flex;\n  align-items: center;\n  padding-bottom: 1px;\n}\n\n.${id}-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: calc(100% - ${+swatchWidth}px - 0.5em);\n}\n\n.${id}-swatch {\n  width: ${+swatchWidth}px;\n  height: ${+swatchHeight}px;\n  margin: 0 0.5em 0 0;\n}\n\n  </style>\n  <div style=\"width: 100%; columns: ${columns};\">${color.domain().map(value => {\n    const label = format(value);\n    return html`<div class=\"${id}-item\">\n      <div class=\"${id}-swatch\" style=\"background:${color(value)};\"></div>\n      <div class=\"${id}-label\" title=\"${label.replace(/[\"&]/g, entity)}\">${document.createTextNode(label)}</div>\n    </div>`;\n  })}\n  </div>\n</div>`;\n\n  return html`<div style=\"display: flex; align-items: center; min-height: 33px; margin-left: ${+marginLeft}px; font: 10px sans-serif;\">\n  <style>\n\n.${id} {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}\n\n.${id}::before {\n  content: \"\";\n  width: ${+swatchWidth}px;\n  height: ${+swatchHeight}px;\n  margin-right: 0.5em;\n  background: var(--color);\n}\n\n  </style>\n  <div>${color.domain().map(value => html`<span class=\"${id}\" style=\"--color: ${color(value)}\">${document.createTextNode(format(value))}</span>`)}</div>`;\n}\n)});\n  main.variable(observer(\"entity\")).define(\"entity\", function(){return(\nfunction entity(character) {\n  return `&#${character.charCodeAt(0).toString()};`;\n}\n)});\n  main.variable(observer(\"ramp\")).define(\"ramp\", [\"DOM\"], function(DOM){return(\nfunction ramp(color, n = 256) {\n  const canvas = DOM.canvas(n, 1);\n  const context = canvas.getContext(\"2d\");\n  for (let i = 0; i < n; ++i) {\n    context.fillStyle = color(i / (n - 1));\n    context.fillRect(i, 0, 1, 1);\n  }\n  return canvas;\n}\n)});\n  main.variable(observer(\"d3\")).define(\"d3\", [\"require\"], function(require){return(\nrequire(\"d3@6\")\n)});\n  return main;\n}\n","import define1 from \"./c2dae147641e012a@46.js\";\nimport define2 from \"./a33468b95d0b15b0@703.js\";\n\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  const fileAttachments = new Map([[\"population@3.csv\",require(\"./files/023f2e516d30f7483d2feb8ec2216b9af7fb5a2d3ff0ff615cfbfab3331a610a36ea2eb5a096ab59013e080c0e8db70c055f18b8c2a898e0ebe67742aaae6bfb\").default],[\"China_OLD.geojson\",require(\"./files/d5d3b7f8adfa5caeedd4f4c3fcef02ed8273523866e0db1ea69bb00824205fad60ada99acae0c4a3515bb95ef788f5993cd20c2e944b4475057ba81006d20401\").default]]);\n  main.builtin(\"FileAttachment\", runtime.fileAttachments(name => fileAttachments.get(name)));\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`# China Province Population Map`\n)});\n  main.variable(observer(\"viewof year\")).define(\"viewof year\", [\"Inputs\",\"data\"], function(Inputs,data){return(\nInputs.select(data.columns.slice(1,-2), {value: \"2020\", label: \"Year\"})\n)});\n  main.variable(observer(\"year\")).define(\"year\", [\"Generators\", \"viewof year\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof metrics\")).define(\"viewof metrics\", [\"Inputs\"], function(Inputs){return(\nInputs.radio([\"Population\", \"Deputies\"], {value: \"Population\"})\n)});\n  main.variable(observer(\"metrics\")).define(\"metrics\", [\"Generators\", \"viewof metrics\"], (G, _) => G.input(_));\n  main.variable(observer(\"chart\")).define(\"chart\", [\"d3\",\"width\",\"height\",\"legend\",\"color\",\"china\",\"population\",\"year\",\"metrics\",\"mutable province\",\"x\",\"year_list\",\"y\",\"xAxis\",\"yAxis\",\"margin\",\"deputy\",\"x2\",\"gender_list\",\"y2\",\"xAxis2\",\"yAxis2\",\"callout\",\"localStorage\",\"format\",\"format2\"], function(d3,width,height,legend,color,china,population,year,metrics,$0,x,year_list,y,xAxis,yAxis,margin,deputy,x2,gender_list,y2,xAxis2,yAxis2,callout,localStorage,format,format2)\n{\n\n  const svg = d3\n    .create(\"svg\")\n    .attr(\"viewBox\", [0, 0, width, height]);\n  //.style(\"overflow\", \"visible\");\n\n  svg\n    .append(\"g\")\n    .attr(\"transform\", \"translate(10,20)\")\n    .append(() => legend({ color, title: \"Population\", width: 260, tickFormat: \".2s\" }));\n  \n  let projection = d3.geoMercator() \n    .center([width > 500 ? 111.8 : 105, width > 500 ? 46.9 : 42])\n    .translate([width > 500 ? width / 3 : width / 2 , height / 3])\n    .scale(width > 500 ? width / 2.5 : width / 1.2);\n\n  let path = d3.geoPath()\n    .projection(projection);\n\n  svg\n    .append('g')\n    .selectAll('path')\n  \t.data(china.features)\n  \t.enter()\n    .append('path')\n    .attr(\"class\", \"province\")\n    .attr(\"id\", d => {\n      if (d.properties.name == \"Inner Mongolia\"){\n        return \"Mongolia\"\n      } else if (d.properties.name == \"Hong Kong\") {\n        return \"HK\"\n      } else {\n        return d.properties.name\n      }\n    })\n    .attr('d', path)\n    .attr(\"stroke\", \"white\")\n    .attr(\"fill\", \"white\")\n    .transition()\n    .duration(200)\n    .ease(d3.easeLinear)\n    .attr(\"fill\", d => {\n      if(d.properties.name !== \"Taiwan\"){\n        return color(population.get(d.properties.name)[year-2011]);\n      } else {\n        return \"#000000\";\n      }\n    });\n  \n  \t\n  \n  if (metrics == \"Population\") {\n    svg.append(\"g\")\n        .attr(\"class\",\"bar\")\n      .selectAll(\"rect\")\n      .data(population.get(`${$0.value.length !=0 ? $0.value : \"Guangdong\"}`))\n      .join(\"rect\")\n        .attr(\"x\", (d, i) => x(year_list[i]))\n        .attr(\"y\", d => y(d))\n        .attr(\"height\", d => y(0) - y(d))\n        .attr(\"width\", x.bandwidth())\n        .attr(\"fill\", \"red\");\n\n    svg.append(\"g\")\n        .call(xAxis);\n\n    svg.append(\"g\")\n        .call(yAxis);\n\n    svg\n      .append(\"text\")\n      .attr(\"class\", \"bartitle\")\n      .attr(\"x\", width > 500 ? width *  0.75 + margin.left : width / 2)\n      .attr(\"y\", width > 500 ? margin.top : height * 0.6 + margin.top)\n      .attr(\"text-anchor\", \"middle\")\n      .style(\"font-size\", 16)\n      .style(\"font-weight\", \"bold\")\n      .text(`${metrics} of ${$0.value.length !=0 ? $0.value : \"Guangdong\"}`);\n\n  } else {\n    svg.append(\"g\")\n        .attr(\"class\",\"bar\")\n      .selectAll(\"rect\")\n      .data(deputy.get(`${$0.value.length !=0 ? $0.value : \"Guangxi\"}`))\n      .join(\"rect\")\n        .attr(\"x\", (d, i) => x2(gender_list[i]) + x2.bandwidth()/4)\n        .attr(\"y\", d => y2(d))\n        .attr(\"height\", d => y2(0) - y2(d))\n        .attr(\"width\", x2.bandwidth() / 2)\n        .attr(\"fill\", \"blue\");\n\n    svg.append(\"g\")\n        .call(xAxis2);\n\n    svg.append(\"g\")\n        .call(yAxis2);\n\n    svg\n      .append(\"text\")\n      .attr(\"class\", \"bartitle\")\n      .attr(\"x\", width > 500 ? width *  0.75 + margin.left : width / 2)\n      .attr(\"y\", width > 500 ? margin.top : height * 0.6 + margin.top)\n      .attr(\"text-anchor\", \"middle\")\n      .style(\"font-size\", 16)\n      .style(\"font-weight\", \"bold\")\n      .text(`${metrics} of ${$0.value.length !=0 ? $0.value : \"Guangxi\"}`);\n  }\n\n  const tooltip = svg.append(\"g\");\n\n  svg\n    .selectAll(\".province\")\n    .on(\"touchmove click\", function(event, d) {\n      const current_population = population.get(d.properties.name)[year-2011];\n          \n      const mouse = d3.pointer(event, this);\n\n      tooltip.call(callout, null);\n\n      let last_project = JSON.parse(localStorage.getItem(\"data\"))\n\n      if (last_project != null) {\n        if (last_project == \"Inner Mongolia\"){\n          last_project[0] = \"Mongolia\"\n        } else if (last_project == \"Hong Kong\") {\n          last_project[0] = \"HK\"\n        } else {}\n        d3.select(`#${last_project[0]}`)\n          .attr(\"stroke\", \"white\")\n          .lower();\n\n        $0.value = []\n      }\n      \n      $0.value = $0.value.concat([d.properties.name]);\n      localStorage.setItem(\"data\", JSON.stringify($0.value));\n      \n      tooltip.call(\n        callout,\n        `${d.properties.name}\nMale NPC deputies；${deputy.get(d.properties.name)[0]}\nFemale NPC deputies: ${deputy.get(d.properties.name)[1]}\n${year} Population: ${d.properties.name === \"Taiwan\" ? \"N/A\" : format(current_population)}\nPopulation growth from last year: ${(d.properties.name === \"Taiwan\" || year == 2011) ? \"N/A\" : format2(( current_population - population.get(d.properties.name)[year-2012])/population.get(d.properties.name)[year-2012])}`\n      );\n\n      tooltip.attr(\"transform\", `translate(${mouse[1] > 350 ? [mouse[0], mouse[1] - 50] : mouse})`);\n      d3.select(this)\n        .attr(\"stroke\", \"red\")\n        .raise();\n      \n      if (metrics == \"Population\") {           \n        d3.selectAll(\".bar\").remove();\n        d3.selectAll(\".bartitle\").remove();\n        \n        svg.append(\"g\")\n            .attr(\"class\",\"bar\")\n          .selectAll(\"rect\")\n          .data(population.get(d.properties.name))\n          .join(\"rect\")\n            .attr(\"x\", (d, i) => x(year_list[i]))\n            .attr(\"width\", x.bandwidth())\n            .attr(\"y\", height - margin.top)\n            .attr(\"height\", 0)\n            .transition()\n        \t\t.duration(200)\n            .ease(d3.easeLinear)\n            .attr(\"y\", d => y(d))\n            .attr(\"height\", d => y(0) - y(d))\n            .attr(\"fill\", \"red\");\n  \n        svg.append(\"g\")\n            .call(xAxis);\n  \n        svg.append(\"g\")\n            .call(yAxis);\n\n        svg\n          .append(\"text\")\n          .attr(\"class\", \"bartitle\")\n          .attr(\"x\", width > 500 ? width *  0.75 + margin.left : width / 2)\n          .attr(\"y\", width > 500 ? margin.top : height * 0.6 + margin.top)\n          .attr(\"text-anchor\", \"middle\")\n          .style(\"font-size\", 16)\n          .style(\"font-weight\", \"bold\")\n          .text(`${metrics} of ${d.properties.name}`);\n\n        tooltip.raise();\n        \n      } else {\n        d3.selectAll(\".bar\").remove();\n        d3.selectAll(\".bartitle\").remove();\n        \n        svg.append(\"g\")\n            .attr(\"class\",\"bar\")\n            .attr(\"fill\", \"blue\")\n          .selectAll(\"rect\")\n          .data(deputy.get(d.properties.name))\n          .join(\"rect\")\n            .attr(\"x\", (d, i) => x2(gender_list[i]) + x2.bandwidth()/4)\n            .attr(\"width\", x2.bandwidth() / 2)\n            .attr(\"y\", height - margin.top)\n            .attr(\"height\", 0)\n            .transition()\n        \t\t.duration(200)\n            .ease(d3.easeLinear)\n            .attr(\"y\", d => y2(d))\n            .attr(\"height\", d => y2(0) - y2(d));\n  \n        svg.append(\"g\")\n            .call(xAxis2);\n  \n        svg.append(\"g\")\n            .call(yAxis2);\n\n        svg\n          .append(\"text\")\n          .attr(\"class\", \"bartitle\")\n          .attr(\"x\", width > 500 ? width *  0.75 + margin.left : width / 2)\n          .attr(\"y\", width > 500 ? margin.top : height * 0.6 + margin.top)\n          .attr(\"text-anchor\", \"middle\")\n          .style(\"font-size\", 16)\n          .style(\"font-weight\", \"bold\")\n          .text(`${metrics} of ${d.properties.name}`);\n\n        tooltip.raise();\n      }\n    })\n    // .on(\"touchend mouseleave\", function() {\n    //   tooltip.call(callout, null);\n    //   d3.select(this)\n    //     .attr(\"stroke\", \"white\")\n    //     .lower();\n    // });\n\n  return svg.node();\n}\n);\n  main.variable(observer(\"x\")).define(\"x\", [\"d3\",\"year_list\",\"width\",\"margin\"], function(d3,year_list,width,margin){return(\nd3.scaleBand()\n    .domain(year_list)\n    .range([(width > 500 ? width / 2 + margin.left : margin.left), width - margin.right])\n    .padding(0.1)\n)});\n  main.variable(observer(\"x2\")).define(\"x2\", [\"d3\",\"gender_list\",\"width\",\"margin\"], function(d3,gender_list,width,margin){return(\nd3.scaleBand()\n    .domain(gender_list)\n    .range([(width > 500 ? width / 2 + margin.left : margin.left), width - margin.right])\n    .padding(0.1)\n)});\n  main.variable(observer(\"y\")).define(\"y\", [\"d3\",\"population\",\"height\",\"margin\",\"width\"], function(d3,population,height,margin,width){return(\nd3.scaleLinear()\n    .domain([0, d3.max(population.get(\"Guangdong\"))]).nice()\n    .range([height - margin.bottom, width > 500 ? margin.top : margin.top + height * 0.6])\n)});\n  main.variable(observer(\"y2\")).define(\"y2\", [\"d3\",\"deputy\",\"height\",\"margin\",\"width\"], function(d3,deputy,height,margin,width){return(\nd3.scaleLinear()\n    .domain([0, d3.max(deputy.get(\"Guangxi\"))]).nice()\n    .range([height - margin.bottom, width > 500 ? margin.top : margin.top + height * 0.6])\n)});\n  main.variable(observer(\"xAxis\")).define(\"xAxis\", [\"height\",\"margin\",\"d3\",\"x\"], function(height,margin,d3,x){return(\ng => g\n    .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n    .attr(\"class\", \"bar\")\n    .call(d3.axisBottom(x).tickSizeOuter(0))\n)});\n  main.variable(observer(\"xAxis2\")).define(\"xAxis2\", [\"height\",\"margin\",\"d3\",\"x2\"], function(height,margin,d3,x2){return(\ng => g\n    .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n    .attr(\"class\", \"bar\")\n    .call(d3.axisBottom(x2).tickSizeOuter(0))\n)});\n  main.variable(observer(\"yAxis\")).define(\"yAxis\", [\"width\",\"margin\",\"d3\",\"y\",\"y_format\",\"height\"], function(width,margin,d3,y,y_format,height){return(\ng => g\n    .attr(\"transform\", `translate(${width > 500 ? width/2 + margin.left : margin.left},0)`)\n    .attr(\"class\", \"bar\")\n    .call(d3.axisLeft(y).ticks(null, y_format))\n    .call(g => g.select(\".domain\").remove())\n    .call(g => g.append(\"text\")\n        .attr(\"x\", -margin.left)\n        .attr(\"y\", width > 500 ? 10 : height * 0.62)\n        .attr(\"fill\", \"black\")\n        .attr(\"text-anchor\", \"start\")\n        .text(\"Population\"))\n)});\n  main.variable(observer(\"yAxis2\")).define(\"yAxis2\", [\"width\",\"margin\",\"d3\",\"y2\",\"y_format\",\"height\"], function(width,margin,d3,y2,y_format,height){return(\ng => g\n    .attr(\"transform\", `translate(${width > 500 ? width/2 + margin.left : margin.left},0)`)\n    .attr(\"class\", \"bar\")\n    .call(d3.axisLeft(y2).ticks(null, y_format))\n    .call(g => g.select(\".domain\").remove())\n    .call(g => g.append(\"text\")\n        .attr(\"x\", -margin.left)\n        .attr(\"y\", width > 500 ? 10 : height * 0.62)\n        .attr(\"fill\", \"black\")\n        .attr(\"text-anchor\", \"start\")\n        .text(\"Number of Deputies\"))\n)});\n  main.variable(observer(\"year_list\")).define(\"year_list\", [\"data\"], function(data){return(\ndata.columns.slice(1,-2).reverse()\n)});\n  main.variable(observer(\"gender_list\")).define(\"gender_list\", [\"data\"], function(data){return(\ndata.columns.slice(-2)\n)});\n  main.variable(observer(\"population\")).define(\"population\", [\"data\"], function(data){return(\nnew Map(data.map(d => [d.Delegation, [d[\"2011\"],d[\"2012\"],d[\"2013\"],d[\"2014\"],d[\"2015\"],d[\"2016\"],d[\"2017\"],d[\"2018\"],d[\"2019\"],d[\"2020\"]]])).set(\"Taiwan\",[\"N/A\",\"N/A\",\"N/A\",\"N/A\",\"N/A\",\"N/A\",\"N/A\",\"N/A\",\"N/A\",\"N/A\"])\n)});\n  main.variable(observer(\"deputy\")).define(\"deputy\", [\"data\"], function(data){return(\nnew Map(data.map(d => [d.Delegation, [d.Men, d.Women]])).set(\"Taiwan\",[\"N/A\",\"N/A\"])\n)});\n  main.variable(observer(\"height\")).define(\"height\", [\"width\"], function(width){return(\nwidth > 500 ? 420 : 550\n)});\n  main.variable(observer(\"data\")).define(\"data\", [\"d3\",\"FileAttachment\"], async function(d3,FileAttachment){return(\nd3.csvParse(await FileAttachment(\"population@3.csv\").text(), d3.autoType)\n)});\n  main.variable(observer(\"callout\")).define(\"callout\", function(){return(\n(g, value) => {\n  if (!value) return g.style(\"display\", \"none\");\n\n  g\n      .style(\"display\", null)\n      .style(\"pointer-events\", \"none\")\n      .style(\"font\", \"10px sans-serif\");\n\n  const path = g.selectAll(\"path\")\n    .data([null])\n    .join(\"path\")\n      .attr(\"fill\", \"white\")\n      .attr(\"stroke\", \"black\");\n\n  const text = g.selectAll(\"text\")\n    .data([null])\n    .join(\"text\")\n    .call(text => text\n      .selectAll(\"tspan\")\n      .data((value + \"\").split(/\\n/))\n      .join(\"tspan\")\n        .attr(\"x\", 0)\n        .attr(\"y\", (d, i) => `${i * 1.1}em`)\n        .style(\"font-weight\", (_, i) => i ? null : \"bold\")\n        .text(d => d));\n\n  const {x, y, width: w, height: h} = text.node().getBBox();\n\n  text.attr(\"transform\", `translate(${-w / 2},${15 - y})`);\n  path.attr(\"d\", `M${-w / 2 - 10},5H${w / 2 + 10}v${h + 20}h-${w + 20}z`);\n}\n)});\n  main.variable(observer(\"color\")).define(\"color\", [\"d3\"], function(d3){return(\nd3.scaleQuantize([0, 120000000], d3.schemeBlues[7])\n)});\n  main.variable(observer(\"path\")).define(\"path\", [\"d3\"], function(d3){return(\nd3.geoPath()\n)});\n  main.variable(observer(\"format\")).define(\"format\", [\"d3\"], function(d3){return(\nd3.format(\",\")\n)});\n  main.variable(observer(\"format2\")).define(\"format2\", [\"d3\"], function(d3){return(\nd3.format(\".2%\")\n)});\n  main.variable(observer(\"y_format\")).define(\"y_format\", [\"d3\"], function(d3){return(\nd3.format(\"s\")\n)});\n  main.variable(observer(\"china\")).define(\"china\", [\"FileAttachment\"], function(FileAttachment){return(\nFileAttachment(\"China_OLD.geojson\").json()\n)});\n  main.variable(observer(\"margin\")).define(\"margin\", function(){return(\n{top: 30, right: 30, bottom: 30, left: 40}\n)});\n  main.define(\"initial province\", [\"localStorage\"], function(localStorage)\n{\n  var initial = JSON.parse(localStorage.getItem(\"data\") || \"[]\");\n  return initial;\n}\n);\n  main.variable(observer(\"mutable province\")).define(\"mutable province\", [\"Mutable\", \"initial province\"], (M, _) => new M(_));\n  main.variable(observer(\"province\")).define(\"province\", [\"mutable province\"], _ => _.generator);\n  const child1 = runtime.module(define1);\n  main.import(\"localStorage\", child1);\n  const child2 = runtime.module(define2);\n  main.import(\"legend\", child2);\n  main.variable(observer(\"d3\")).define(\"d3\", [\"require\"], function(require){return(\nrequire(\"d3@6\")\n)});\n  return main;\n}\n","import React, {useRef, useEffect, useState} from \"react\";\nimport {Runtime, Inspector} from \"@observablehq/runtime\";\nimport notebook from \"./543fc9bac1bd4e19\";\n\nfunction Chinamap({width}) {\n  const viewofYearRef = useRef();\n  const viewofMetricsRef = useRef();\n  const chartRef = useRef();\n  const [module, setModule] = useState();\n\n  useEffect(() => {\n    const runtime = new Runtime();\n    const main = runtime.module(notebook, name => {\n      if (name === \"viewof year\") return new Inspector(viewofYearRef.current);\n      if (name === \"viewof metrics\") return new Inspector(viewofMetricsRef.current);\n      if (name === \"chart\") return new Inspector(chartRef.current);\n    });\n    setModule(main);\n    return () => {\n      setModule(undefined);\n      runtime.dispose()\n    };\n  }, []);\n\n  useEffect(() => {\n    if (module !== undefined) {\n      module.redefine(\"width\", width);\n    }\n  }, [width, module]);\n\n  return (\n    <div className={`${width > 500 ? null : \"order\"}`}>\n      <div ref={viewofYearRef} className={`${width > 500 ? \"year\" : \"year-mobile\"}`}/>\n      <div ref={viewofMetricsRef} className={`${width > 500 ? \"deputy\" : \"deputy-mobile\"}`}/>\n      <div ref={chartRef} className={`${width > 500 ? null : \"chart\"}`}/>\n    </div>\n  );\n}\n\nexport default Chinamap;","import React, { useRef, useState, useEffect } from 'react';\nimport './App.css';\nimport Chinamap from './map';\n\nconst useContainerDimensions = myRef => {\n  const getDimensions = () => ({\n    width: (myRef.current.offsetWidth) < 1000 ? myRef.current.offsetWidth : 1000,\n    height: myRef.current.offsetHeight\n  })\n\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 })\n\n  useEffect(() => {\n    const handleResize = () => {\n      setDimensions(getDimensions())\n    }\n\n    if (myRef.current) {\n      setDimensions(getDimensions())\n    }\n\n    //window.addEventListener(\"click\", handleResize)\n    window.addEventListener(\"resize\", handleResize)\n\n    return () => {\n      //window.removeEventListener(\"click\", handleResize)\n      window.removeEventListener(\"resize\", handleResize)\n    }\n  }, [myRef])\n\n  return dimensions;\n};\n\nfunction App() {\n  const componentRef = useRef(null);\n  const { width, height } = useContainerDimensions(componentRef);\n\n  if (width > 500) {\n    return (\n      <div className=\"App\" ref={componentRef}>\n        <h1>Chinese Provinces With More National People’s Congress (NPC) Deputies <br /> Are Not Necessary More Populous</h1>\n        <Chinamap width = {width}/>\n        <p>Source: <a href=\"http://www.npc.gov.cn/npc/dbmd13/dbmd.shtml\">National People's Congress</a></p>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"App\" ref={componentRef}>\n        <h3>Chinese Provinces With More National People’s Congress (NPC) Deputies <br /> Are Not Necessary More Populous</h3>\n        <Chinamap width = {width}/>\n        <p>Source: <a href=\"http://www.npc.gov.cn/npc/dbmd13/dbmd.shtml\">National People's Congress</a></p>\n      </div>\n    );\n  }\n\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}