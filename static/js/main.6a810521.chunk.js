(this["webpackJsonpchina-deputy-map"]=this["webpackJsonpchina-deputy-map"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/023f2e516d30f7483d2feb8ec2216b9af7fb5a2d3ff0ff615cfbfab3331a610a36ea2eb5a096ab59013e080c0e8db70c055f18b8c2a898e0ebe67742aaae6bfb.9ac3d3fa.bin"},37:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/d5d3b7f8adfa5caeedd4f4c3fcef02ed8273523866e0db1ea69bb00824205fad60ada99acae0c4a3515bb95ef788f5993cd20c2e944b4475057ba81006d20401.5c21df74.bin"},39:function(e,t,n){"use strict";n.r(t);var a,r,i,o,l,c,s,u,d,f=n(6),p=n.n(f),h=n(23),m=n.n(h),g=(n(30),n(3)),b=(n(31),n(18)),v=n(0),y=n.n(v),w=n(1),x=n(9),j=n(7),k=n(10);function A(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(a||(a=Object(x.a)(['# Safe Local Storage\n\nIf a reader has localStorage disabled, simply referencing it will throw an error and prevent any downstream cells from running. This can break your notebook!\n\nIf you import from this notebook instead, you\u2019ll be able to use localStorage safely: if the reader has disabled local storage, you\u2019ll get an in-memory storage instance that evaporates when the page is unloaded.\n\n```js\nimport {localStorage} from "@mbostock/safe-local-storage"\n```\n\nPlease note that this implementation does not support direct-setting of properties on localStorage; use the [Storage interface methods](https://html.spec.whatwg.org/multipage/webstorage.html#webstorage) instead.\n'],['# Safe Local Storage\n\nIf a reader has localStorage disabled, simply referencing it will throw an error and prevent any downstream cells from running. This can break your notebook!\n\nIf you import from this notebook instead, you\u2019ll be able to use localStorage safely: if the reader has disabled local storage, you\u2019ll get an in-memory storage instance that evaporates when the page is unloaded.\n\n\\`\\`\\`js\nimport {localStorage} from "@mbostock/safe-local-storage"\n\\`\\`\\`\n\nPlease note that this implementation does not support direct-setting of properties on localStorage; use the [Storage interface methods](https://html.spec.whatwg.org/multipage/webstorage.html#webstorage) instead.\n'])))})),n.variable(t("localStorage")).define("localStorage",["MemoryStorage"],(function(e){try{var t=window.localStorage,n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(a){return new e}})),n.variable(t("MemoryStorage")).define("MemoryStorage",(function(){return function(){function e(){Object(j.a)(this,e),Object.defineProperties(this,{_:{value:new Map}})}return Object(k.a)(e,[{key:"length",get:function(){return this._.size}},{key:"key",value:function(e){return Array.from(this._.keys())[0|e]}},{key:"getItem",value:function(e){return this._.has(e+="")?this._.get(e):null}},{key:"setItem",value:function(e,t){this._.set(e+"",t+"")}},{key:"removeItem",value:function(e){this._.delete(e+"")}},{key:"clear",value:function(){this._.clear()}}]),e}()})),n}function O(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(r||(r=Object(x.a)(['# Color Legend\n\nA simple legend for a [color scale](/@d3/color-schemes). Supports [continuous](/@d3/continuous-scales), [sequential](/@d3/sequential-scales), [diverging](/@d3/diverging-scales), [quantize, quantile, threshold](/@d3/quantile-quantize-and-threshold-scales) and [ordinal](/@d3/d3-scaleordinal) scales. To use:\n\n~~~js\nimport {legend, swatches} from "@d3/color-legend"\n~~~\n\nThen call the legend function as shown below. (For ordinal scales, also consider the swatches function.)'])))})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequential([0,100],t.interpolateViridis),title:"Temperature (\xb0F)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialSqrt([0,1],t.interpolateTurbo),title:"Speed (kts)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDiverging([-.1,0,.1],t.interpolatePiYG),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDivergingSqrt([-.1,0,.1],t.interpolateRdBu),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialLog([1,100],t.interpolateBlues),title:"Energy (joules)",ticks:10,tickFormat:".0s"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialQuantile(Array.from({length:100},(function(){return Math.pow(Math.random(),2)})),t.interpolateBlues),title:"Quantile",tickFormat:".2f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSqrt([-100,0,100],["blue","white","red"]),title:"Temperature (\xb0C)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantize([1,10],t.schemePurples[9]),title:"Unemployment rate (%)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantile(t.range(1e3).map(t.randomNormal(100,20)),t.schemeSpectral[9]),title:"Height (cm)",tickFormat:".0f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleThreshold([2.5,3.1,3.5,3.9,6,7,8,9.5],t.schemeRdBu[9]),title:"Unemployment rate (%)",tickSize:0})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleOrdinal(["<10","10-19","20-29","30-39","40-49","50-59","60-69","70-79","\u226580"],t.schemeSpectral[10]),title:"Age (years)",tickSize:0})})),n.variable(t()).define(["md"],(function(e){return e(i||(i=Object(x.a)(["But wait, there\u2019s more!\n\nHow about swatches for ordinal color scales? Both variable-width swatches and [column layout](https://developer.mozilla.org/en-US/docs/Web/CSS/columns) are supported."])))})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["blueberries","oranges","apples"],t.schemeCategory10)})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["Wholesale and Retail Trade","Manufacturing","Leisure and hospitality","Business services","Construction","Education and Health","Government","Finance","Self-employed","Other"],t.schemeTableau10),columns:"180px"})})),n.variable(t()).define(["md"],(function(e){return e(o||(o=Object(x.a)(["---\n\n## Implementation"])))})),n.variable(t("legend")).define("legend",["d3","ramp"],(function(e,t){return function(){var n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.color,i=a.title,o=a.tickSize,l=void 0===o?6:o,c=a.width,s=void 0===c?320:c,u=a.height,d=void 0===u?44+l:u,f=a.marginTop,p=void 0===f?18:f,h=a.marginRight,m=void 0===h?0:h,g=a.marginBottom,b=void 0===g?16+l:g,v=a.marginLeft,y=void 0===v?0:v,w=a.ticks,x=void 0===w?s/64:w,j=a.tickFormat,k=a.tickValues,A=e.create("svg").attr("width",s).attr("height",d).attr("viewBox",[0,0,s,d]).style("overflow","visible").style("display","block"),O=function(e){return e.selectAll(".tick line").attr("y1",p+b-d)};if(r.interpolate){var S=Math.min(r.domain().length,r.range().length);n=r.copy().rangeRound(e.quantize(e.interpolate(y,s-m),S)),A.append("image").attr("x",y).attr("y",p).attr("width",s-y-m).attr("height",d-p-b).attr("preserveAspectRatio","none").attr("xlink:href",t(r.copy().domain(e.quantize(e.interpolate(0,1),S))).toDataURL())}else if(r.interpolator){if(n=Object.assign(r.copy().interpolator(e.interpolateRound(y,s-m)),{range:function(){return[y,s-m]}}),A.append("image").attr("x",y).attr("y",p).attr("width",s-y-m).attr("height",d-p-b).attr("preserveAspectRatio","none").attr("xlink:href",t(r.interpolator()).toDataURL()),!n.ticks){if(void 0===k){var N=Math.round(x+1);k=e.range(N).map((function(t){return e.quantile(r.domain(),t/(N-1))}))}"function"!==typeof j&&(j=e.format(void 0===j?",f":j))}}else if(r.invertExtent){var P=r.thresholds?r.thresholds():r.quantiles?r.quantiles():r.domain(),M=void 0===j?function(e){return e}:"string"===typeof j?e.format(j):j;n=e.scaleLinear().domain([-1,r.range().length-1]).rangeRound([y,s-m]),A.append("g").selectAll("rect").data(r.range()).join("rect").attr("x",(function(e,t){return n(t-1)})).attr("y",p).attr("width",(function(e,t){return n(t)-n(t-1)})).attr("height",d-p-b).attr("fill",(function(e){return e})),k=e.range(P.length),j=function(e){return M(P[e],e)}}else n=e.scaleBand().domain(r.domain()).rangeRound([y,s-m]),A.append("g").selectAll("rect").data(r.domain()).join("rect").attr("x",n).attr("y",p).attr("width",Math.max(0,n.bandwidth()-1)).attr("height",d-p-b).attr("fill",r),O=function(){};return A.append("g").attr("transform","translate(0,".concat(d-b,")")).call(e.axisBottom(n).ticks(x,"string"===typeof j?j:void 0).tickFormat("function"===typeof j?j:void 0).tickSize(l).tickValues(k)).call(O).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.append("text").attr("x",y).attr("y",p+b-d-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)})),A.node()}})),n.variable(t("swatches")).define("swatches",["DOM","html","entity"],(function(e,t,n){return function(a){var r=a.color,i=a.columns,o=void 0===i?null:i,d=a.format,f=void 0===d?function(e){return e}:d,p=a.swatchSize,h=void 0===p?15:p,m=a.swatchWidth,g=void 0===m?h:m,b=a.swatchHeight,v=void 0===b?h:b,y=a.marginLeft,w=void 0===y?0:y,j=e.uid().id;return null!==o?t(l||(l=Object(x.a)(['<div style="display: flex; align-items: center; margin-left: ','px; min-height: 33px; font: 10px sans-serif;">\n  <style>\n\n.',"-item {\n  break-inside: avoid;\n  display: flex;\n  align-items: center;\n  padding-bottom: 1px;\n}\n\n.","-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: calc(100% - ","px - 0.5em);\n}\n\n.","-swatch {\n  width: ","px;\n  height: ",'px;\n  margin: 0 0.5em 0 0;\n}\n\n  </style>\n  <div style="width: 100%; columns: ',';">',"\n  </div>\n</div>"])),+w,j,j,+g,j,+g,+v,o,r.domain().map((function(e){var a=f(e);return t(c||(c=Object(x.a)(['<div class="','-item">\n      <div class="','-swatch" style="background:',';"></div>\n      <div class="','-label" title="','">',"</div>\n    </div>"])),j,j,r(e),j,a.replace(/["&]/g,n),document.createTextNode(a))}))):t(s||(s=Object(x.a)(['<div style="display: flex; align-items: center; min-height: 33px; margin-left: ','px; font: 10px sans-serif;">\n  <style>\n\n.'," {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}\n\n.",'::before {\n  content: "";\n  width: ',"px;\n  height: ","px;\n  margin-right: 0.5em;\n  background: var(--color);\n}\n\n  </style>\n  <div>","</div>"])),+w,j,j,+g,+v,r.domain().map((function(e){return t(u||(u=Object(x.a)(['<span class="','" style="--color: ','">',"</span>"])),j,r(e),document.createTextNode(f(e)))})))}})),n.variable(t("entity")).define("entity",(function(){return function(e){return"&#".concat(e.charCodeAt(0).toString(),";")}})),n.variable(t("ramp")).define("ramp",["DOM"],(function(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=e.canvas(n,1),r=a.getContext("2d"),i=0;i<n;++i)r.fillStyle=t(i/(n-1)),r.fillRect(i,0,1,1);return a}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),n}function S(e,t){var a=e.module(),r=new Map([["population@3.csv",n(36).default],["China_OLD.geojson",n(37).default]]);a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md"],(function(e){return e(d||(d=Object(x.a)(["# China Province Population Map"])))})),a.variable(t("viewof year")).define("viewof year",["Inputs","data"],(function(e,t){return e.select(t.columns.slice(1,-2),{value:"2020",label:"Year"})})),a.variable(t("year")).define("year",["Generators","viewof year"],(function(e,t){return e.input(t)})),a.variable(t("viewof metrics")).define("viewof metrics",["Inputs"],(function(e){return e.radio(["Population","Deputies"],{value:"Population"})})),a.variable(t("metrics")).define("metrics",["Generators","viewof metrics"],(function(e,t){return e.input(t)})),a.variable(t("chart")).define("chart",["d3","width","height","legend","color","china","population","year","metrics","mutable province","x","year_list","y","xAxis","yAxis","margin","deputy","x2","gender_list","y2","xAxis2","yAxis2","callout","localStorage","format","format2"],(function(e,t,n,a,r,i,o,l,c,s,u,d,f,p,h,m,g,b,v,y,w,x,j,k,A,O){var S=e.create("svg").attr("viewBox",[0,0,t,n]);S.append("g").attr("transform","translate(10,20)").append((function(){return a({color:r,title:"Population",width:260,tickFormat:".2s"})}));var N=e.geoMercator().center([t>500?111.8:105,t>500?46.9:42]).translate([t>500?t/3:t/2,n/3]).scale(t>500?t/2.5:t/1.2),P=e.geoPath().projection(N);S.append("g").selectAll("path").data(i.features).enter().append("path").attr("class","province").attr("id",(function(e){return"Inner Mongolia"==e.properties.name?"Mongolia":"Hong Kong"==e.properties.name?"HK":e.properties.name})).attr("d",P).attr("stroke","white").attr("fill","white").transition().duration(200).ease(e.easeLinear).attr("fill",(function(e){return"Taiwan"!==e.properties.name?r(o.get(e.properties.name)[l-2011]):"#000000"})),"Population"==c?(S.append("g").attr("class","bar").selectAll("rect").data(o.get("".concat(0!=s.value.length?s.value:"Guangdong"))).join("rect").attr("x",(function(e,t){return u(d[t])})).attr("y",(function(e){return f(e)})).attr("height",(function(e){return f(0)-f(e)})).attr("width",u.bandwidth()).attr("fill","red"),S.append("g").call(p),S.append("g").call(h),S.append("text").attr("class","bartitle").attr("x",t>500?.75*t+m.left:t/2).attr("y",t>500?m.top:.6*n+m.top).attr("text-anchor","middle").style("font-size",16).style("font-weight","bold").text("".concat(c," of ").concat(0!=s.value.length?s.value:"Guangdong"))):(S.append("g").attr("class","bar").selectAll("rect").data(g.get("".concat(0!=s.value.length?s.value:"Guangxi"))).join("rect").attr("x",(function(e,t){return b(v[t])+b.bandwidth()/4})).attr("y",(function(e){return y(e)})).attr("height",(function(e){return y(0)-y(e)})).attr("width",b.bandwidth()/2).attr("fill","blue"),S.append("g").call(w),S.append("g").call(x),S.append("text").attr("class","bartitle").attr("x",t>500?.75*t+m.left:t/2).attr("y",t>500?m.top:.6*n+m.top).attr("text-anchor","middle").style("font-size",16).style("font-weight","bold").text("".concat(c," of ").concat(0!=s.value.length?s.value:"Guangxi")));var M=S.append("g");return S.selectAll(".province").on("touchmove click",(function(a,r){var i=o.get(r.properties.name)[l-2011],N=e.pointer(a,this);M.call(j,null);var P=JSON.parse(k.getItem("data"));null!=P&&("Inner Mongolia"==P?P[0]="Mongolia":"Hong Kong"==P&&(P[0]="HK"),e.select("#".concat(P[0])).attr("stroke","white").lower(),s.value=[]),s.value=s.value.concat([r.properties.name]),k.setItem("data",JSON.stringify(s.value)),M.call(j,"".concat(r.properties.name,"\nMale NPC deputies\uff1b").concat(g.get(r.properties.name)[0],"\nFemale NPC deputies: ").concat(g.get(r.properties.name)[1],"\n").concat(l," Population: ").concat("Taiwan"===r.properties.name?"N/A":A(i),"\nPopulation growth from last year: ").concat("Taiwan"===r.properties.name||2011==l?"N/A":O((i-o.get(r.properties.name)[l-2012])/o.get(r.properties.name)[l-2012]))),M.attr("transform","translate(".concat(N[1]>350?[N[0],N[1]-50]:N,")")),e.select(this).attr("stroke","red").raise(),"Population"==c?(e.selectAll(".bar").remove(),e.selectAll(".bartitle").remove(),S.append("g").attr("class","bar").selectAll("rect").data(o.get(r.properties.name)).join("rect").attr("x",(function(e,t){return u(d[t])})).attr("width",u.bandwidth()).attr("y",n-m.top).attr("height",0).transition().duration(200).ease(e.easeLinear).attr("y",(function(e){return f(e)})).attr("height",(function(e){return f(0)-f(e)})).attr("fill","red"),S.append("g").call(p),S.append("g").call(h),S.append("text").attr("class","bartitle").attr("x",t>500?.75*t+m.left:t/2).attr("y",t>500?m.top:.6*n+m.top).attr("text-anchor","middle").style("font-size",16).style("font-weight","bold").text("".concat(c," of ").concat(r.properties.name)),M.raise()):(e.selectAll(".bar").remove(),e.selectAll(".bartitle").remove(),S.append("g").attr("class","bar").attr("fill","blue").selectAll("rect").data(g.get(r.properties.name)).join("rect").attr("x",(function(e,t){return b(v[t])+b.bandwidth()/4})).attr("width",b.bandwidth()/2).attr("y",n-m.top).attr("height",0).transition().duration(200).ease(e.easeLinear).attr("y",(function(e){return y(e)})).attr("height",(function(e){return y(0)-y(e)})),S.append("g").call(w),S.append("g").call(x),S.append("text").attr("class","bartitle").attr("x",t>500?.75*t+m.left:t/2).attr("y",t>500?m.top:.6*n+m.top).attr("text-anchor","middle").style("font-size",16).style("font-weight","bold").text("".concat(c," of ").concat(r.properties.name)),M.raise())})),S.node()})),a.variable(t("x")).define("x",["d3","year_list","width","margin"],(function(e,t,n,a){return e.scaleBand().domain(t).range([n>500?n/2+a.left:a.left,n-a.right]).padding(.1)})),a.variable(t("x2")).define("x2",["d3","gender_list","width","margin"],(function(e,t,n,a){return e.scaleBand().domain(t).range([n>500?n/2+a.left:a.left,n-a.right]).padding(.1)})),a.variable(t("y")).define("y",["d3","population","height","margin","width"],(function(e,t,n,a,r){return e.scaleLinear().domain([0,e.max(t.get("Guangdong"))]).nice().range([n-a.bottom,r>500?a.top:a.top+.6*n])})),a.variable(t("y2")).define("y2",["d3","deputy","height","margin","width"],(function(e,t,n,a,r){return e.scaleLinear().domain([0,e.max(t.get("Guangxi"))]).nice().range([n-a.bottom,r>500?a.top:a.top+.6*n])})),a.variable(t("xAxis")).define("xAxis",["height","margin","d3","x"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(0,".concat(e-t.bottom,")")).attr("class","bar").call(n.axisBottom(a).tickSizeOuter(0))}})),a.variable(t("xAxis2")).define("xAxis2",["height","margin","d3","x2"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(0,".concat(e-t.bottom,")")).attr("class","bar").call(n.axisBottom(a).tickSizeOuter(0))}})),a.variable(t("yAxis")).define("yAxis",["width","margin","d3","y","y_format","height"],(function(e,t,n,a,r,i){return function(o){return o.attr("transform","translate(".concat(e>500?e/2+t.left:t.left,",0)")).attr("class","bar").call(n.axisLeft(a).ticks(null,r)).call((function(e){return e.select(".domain").remove()})).call((function(n){return n.append("text").attr("x",-t.left).attr("y",e>500?10:.62*i).attr("fill","black").attr("text-anchor","start").text("Population")}))}})),a.variable(t("yAxis2")).define("yAxis2",["width","margin","d3","y2","y_format","height"],(function(e,t,n,a,r,i){return function(o){return o.attr("transform","translate(".concat(e>500?e/2+t.left:t.left,",0)")).attr("class","bar").call(n.axisLeft(a).ticks(null,r)).call((function(e){return e.select(".domain").remove()})).call((function(n){return n.append("text").attr("x",-t.left).attr("y",e>500?10:.62*i).attr("fill","black").attr("text-anchor","start").text("Number of Deputies")}))}})),a.variable(t("year_list")).define("year_list",["data"],(function(e){return e.columns.slice(1,-2).reverse()})),a.variable(t("gender_list")).define("gender_list",["data"],(function(e){return e.columns.slice(-2)})),a.variable(t("population")).define("population",["data"],(function(e){return new Map(e.map((function(e){return[e.Delegation,[e[2011],e[2012],e[2013],e[2014],e[2015],e[2016],e[2017],e[2018],e[2019],e[2020]]]}))).set("Taiwan",["N/A","N/A","N/A","N/A","N/A","N/A","N/A","N/A","N/A","N/A"])})),a.variable(t("deputy")).define("deputy",["data"],(function(e){return new Map(e.map((function(e){return[e.Delegation,[e.Men,e.Women]]}))).set("Taiwan",["N/A","N/A"])})),a.variable(t("height")).define("height",["width"],(function(e){return e>500?420:550})),a.variable(t("data")).define("data",["d3","FileAttachment"],function(){var e=Object(w.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,n("population@3.csv").text();case 3:return e.t1=e.sent,e.t2=t.autoType,e.abrupt("return",e.t0.csvParse.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.variable(t("callout")).define("callout",(function(){return function(e,t){if(!t)return e.style("display","none");e.style("display",null).style("pointer-events","none").style("font","10px sans-serif");var n=e.selectAll("path").data([null]).join("path").attr("fill","white").attr("stroke","black"),a=e.selectAll("text").data([null]).join("text").call((function(e){return e.selectAll("tspan").data((t+"").split(/\n/)).join("tspan").attr("x",0).attr("y",(function(e,t){return"".concat(1.1*t,"em")})).style("font-weight",(function(e,t){return t?null:"bold"})).text((function(e){return e}))})),r=a.node().getBBox(),i=(r.x,r.y),o=r.width,l=r.height;a.attr("transform","translate(".concat(-o/2,",").concat(15-i,")")),n.attr("d","M".concat(-o/2-10,",5H").concat(o/2+10,"v").concat(l+20,"h-").concat(o+20,"z"))}})),a.variable(t("color")).define("color",["d3"],(function(e){return e.scaleQuantize([0,12e7],e.schemeBlues[7])})),a.variable(t("path")).define("path",["d3"],(function(e){return e.geoPath()})),a.variable(t("format")).define("format",["d3"],(function(e){return e.format(",")})),a.variable(t("format2")).define("format2",["d3"],(function(e){return e.format(".2%")})),a.variable(t("y_format")).define("y_format",["d3"],(function(e){return e.format("s")})),a.variable(t("china")).define("china",["FileAttachment"],(function(e){return e("China_OLD.geojson").json()})),a.variable(t("margin")).define("margin",(function(){return{top:30,right:30,bottom:30,left:40}})),a.define("initial province",["localStorage"],(function(e){return JSON.parse(e.getItem("data")||"[]")})),a.variable(t("mutable province")).define("mutable province",["Mutable","initial province"],(function(e,t){return new e(t)})),a.variable(t("province")).define("province",["mutable province"],(function(e){return e.generator}));var i=e.module(A);a.import("localStorage",i);var o=e.module(O);return a.import("legend",o),a.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),a}var N=n(4);var P=function(e){var t=e.width,n=Object(f.useRef)(),a=Object(f.useRef)(),r=Object(f.useRef)(),i=Object(f.useState)(),o=Object(g.a)(i,2),l=o[0],c=o[1];return Object(f.useEffect)((function(){var e=new b.b,t=e.module(S,(function(e){return"viewof year"===e?new b.a(n.current):"viewof metrics"===e?new b.a(a.current):"chart"===e?new b.a(r.current):void 0}));return c(t),function(){c(void 0),e.dispose()}}),[]),Object(f.useEffect)((function(){void 0!==l&&l.redefine("width",t)}),[t,l]),Object(N.jsxs)("div",{className:"".concat(t>500?null:"order"),children:[Object(N.jsx)("div",{ref:n,className:"".concat(t>500?"year":"year-mobile")}),Object(N.jsx)("div",{ref:a,className:"".concat(t>500?"deputy":"deputy-mobile")}),Object(N.jsx)("div",{ref:r,className:"".concat(t>500?null:"chart")})]})};var M=function(){var e=Object(f.useRef)(null),t=function(e){var t=function(){return{width:e.current.offsetWidth<1e3?e.current.offsetWidth:1e3,height:e.current.offsetHeight}},n=Object(f.useState)({width:0,height:0}),a=Object(g.a)(n,2),r=a[0],i=a[1];return Object(f.useEffect)((function(){var n=function(){i(t())};return e.current&&i(t()),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[e]),r}(e),n=t.width;return t.height,n>500?Object(N.jsxs)("div",{className:"App",ref:e,children:[Object(N.jsxs)("h1",{children:["Chinese Provinces With More National People\u2019s Congress (NPC) Deputies ",Object(N.jsx)("br",{})," Are Not Necessary More Populous"]}),Object(N.jsx)(P,{width:n}),Object(N.jsxs)("p",{children:["Source: ",Object(N.jsx)("a",{href:"http://www.npc.gov.cn/npc/dbmd13/dbmd.shtml",children:"National People's Congress"})]})]}):Object(N.jsxs)("div",{className:"App",ref:e,children:[Object(N.jsxs)("h3",{children:["Chinese Provinces With More National People\u2019s Congress (NPC) Deputies ",Object(N.jsx)("br",{})," Are Not Necessary More Populous"]}),Object(N.jsx)(P,{width:n}),Object(N.jsxs)("p",{children:["Source: ",Object(N.jsx)("a",{href:"http://www.npc.gov.cn/npc/dbmd13/dbmd.shtml",children:"National People's Congress"})]})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};m.a.render(Object(N.jsx)(p.a.StrictMode,{children:Object(N.jsx)(M,{})}),document.getElementById("root")),_()}},[[39,1,2]]]);
//# sourceMappingURL=main.6a810521.chunk.js.map